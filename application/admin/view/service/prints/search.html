<script src="http://www.card.com/LodopFuncs.js"></script>
<div class="panel panel-default panel-intro" style="width: 900px;">
	<h3>打印健康证</h3>
	<div class="panel-body form-horizontal" style="position: relative;">
		<form id="edit-form" role="form" data-toggle="validator" method="POST"
			action="">
			<div class="form-group">
				<label for="c-nickname" class="control-label col-xs-12 col-sm-2">快速检索:</label>
				<div class="form-inline" data-toggle="cxselect"
					data-selects="pid,name">
					<input id="search-a" class="form-control" name="row[search]"
						type="text" value="">
					<button type="submit" class="btn btn-success btn-embossed">查询</button>
				</div>
			</div>
		</form>
		<div class="form-group">
			<label for="c-username" class="control-label col-xs-12 col-sm-2">姓名:</label>
			<div class="col-xs-12 col-sm-4">
				<span class="form-control">{$body['name']}</span>
			</div>
		</div>
		<div class="form-group">
			<label for="c-nickname" class="control-label col-xs-12 col-sm-2">身份证号:</label>
			<div class="col-xs-12 col-sm-4">
				<span class="form-control">{$body['identitycard']}</span>
			</div>
		</div>
		<div class="form-group">
			<label for="c-nickname" class="control-label col-xs-12 col-sm-2">性别:</label>
			<div class="col-xs-12 col-sm-4">				
				<span id="c-username" class="form-control">{if condition="$body['sex'] eq 0"}男{else/}女{/if}</span>					
			</div>
		</div>
		<div class="form-group">
			<label for="c-nickname" class="control-label col-xs-12 col-sm-2">年龄:</label>
			<div class="col-xs-12 col-sm-4">
				<span class="form-control">{$body['age']}</span>
			</div>
		</div>
		<div class="form-group">
			<label for="c-nickname" class="control-label col-xs-12 col-sm-2">手机:</label>
			<div class="col-xs-12 col-sm-4">
					
				<span class="form-control">{$body['phone']}</span>
			</div>
		</div>
		<div class="form-group">
			<label for="c-nickname" class="control-label col-xs-12 col-sm-2">从业单位:</label>
			<div class="col-xs-12 col-sm-4">
					
				<span class="form-control">{$body['company']}</span>
			</div>
		</div>
		<div class="form-group">
			<label for="c-nickname" class="control-label col-xs-12 col-sm-2">从业类别:</label>			
			<div class="col-xs-12 col-sm-4">					
				<span class="form-control">{$body['employee']}</span>
			</div>
		</div>
		<div id="avatar_ad">
			<img width="102" height="126" src="data:image/jpeg;base64,{$body['images']}" border="0">
		</div>
		<div class="wait_physical">
			体检结果：<span></span>
		</div>
		
		<a href="javascript:;" onclick="myPreview()" class="btn btn-default btn-selected btn-disabled"
			style="font-size: 14px; color: white; background: #18bc9c;">
			预览并打印结果 </a>
	</div>

</div>

<script>
	function myPreview() {		    
		if({$print['physictype'] == 0}){
			CreatePrintPage();
		}else{
			CreatePrintPage1();
		}
		LODOP.PREVIEW();		       
	};		
	//data:image/jpeg;base64,
    function CreatePrintPage() {
        LODOP = getLodop();
        LODOP.PRINT_INITA("0", "0", "86.6mm", "56.4mm", "打印控件功能演示_Lodop功能_在线编辑获得程序代码");
        LODOP.ADD_PRINT_TEXT("32mm", "25mm", "100", "30", "{$print['name']}");
        LODOP.SET_PRINT_STYLEA(0, "FontName", "华文楷体");
        LODOP.SET_PRINT_STYLEA(0, "FontSize", 8);
        LODOP.ADD_PRINT_TEXT("32mm", "48mm", "100", "30", "{$print['sex']}");
        LODOP.SET_PRINT_STYLEA(0, "FontName", "华文楷体");
        LODOP.SET_PRINT_STYLEA(0, "FontSize", 8);
        LODOP.ADD_PRINT_TEXT("36mm", "25mm", "100", "30", "{$print['employee']}");
        LODOP.SET_PRINT_STYLEA(0, "FontName", "华文楷体");
        LODOP.SET_PRINT_STYLEA(0, "FontSize", 8);
        LODOP.ADD_PRINT_TEXT("40.5mm", "25mm", "100", "30", "{$print['obtain_employ_number']}");
        LODOP.SET_PRINT_STYLEA(0, "FontName", "华文楷体");
        LODOP.SET_PRINT_STYLEA(0, "FontSize", 8);
        LODOP.ADD_PRINT_TEXT("45mm", "25mm", "100", "30", "{$print['end_time']}");
        LODOP.SET_PRINT_STYLEA(0, "FontName", "华文楷体");
        LODOP.SET_PRINT_STYLEA(0, "FontSize", 8);
        LODOP.ADD_PRINT_IMAGE("30mm","60mm","20mm","30mm","<img src=\"data:image/jpeg;base64,{$print['images']}\"/>");
        LODOP.ADD_PRINT_TEXT("50mm", "25mm", "100", "30", "{$print['busisess_name']}");
        LODOP.SET_PRINT_STYLEA(0, "FontName", "华文楷体");
        LODOP.SET_PRINT_STYLEA(0, "FontSize", 8);
    };


    function CreatePrintPage1() {
        LODOP.PRINT_INITA(0, 0, "86.6mm", "56mm", "打印控件功能演示_Lodop功能_在线编辑获得程序代码");
        LODOP.ADD_PRINT_TEXT("36mm", "48mm", 97, 30, "{$print['employee']}");
        LODOP.SET_PRINT_STYLEA(0, "FontSize", 9);
        LODOP.ADD_PRINT_TEXT("40mm", "48mm", 100, 30, "{$print['name']}");
        LODOP.SET_PRINT_STYLEA(0, "FontName", "华文楷体");
        LODOP.SET_PRINT_STYLEA(0, "FontSize", 9);
        LODOP.ADD_PRINT_TEXT("40mm", "76mm", 50, 30, "{$print['age']}");
        LODOP.SET_PRINT_STYLEA(0, "FontSize", 9);
        LODOP.SET_PRINT_STYLEA(0, "Angle", 4);
        LODOP.ADD_PRINT_IMAGE("25mm","10mm","16.6mm","20mm","<img src=\"data:image/jpeg;base64,{$print['images']}\"/>");
        LODOP.ADD_PRINT_TEXT("44.5mm", "48mm", 157, 30, {$print['end_time']});
        LODOP.SET_PRINT_STYLEA(0, "FontName", "华文楷体");
        LODOP.SET_PRINT_STYLEA(0, "FontSize", 9);
        LODOP.ADD_PRINT_TEXT("50mm", "23mm", 230, 29, {$print['obtain_employ_number']});
        LODOP.SET_PRINT_STYLEA(0, "FontSize", 9);
    }

</script>
<style>
h3 {
	padding: 15px 10px;
	border-bottom: 1px solid #ccc;
	margin: auto;
	background-color: #eee;
}

.opertor {
	margin: auto;
	font-size: 24px;
	padding: 10px;
}

#avatar_ad {
	border: 1px solid #000;
	width: 150px;
	height: 200px;
	position: absolute;
	top: 27%;
	right: 20%;
}

.wait_physical {
	border-bottom: 1px solid #eee;
	font-size: 18px;
	margin: 10px auto;
}
</style>